"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _config=require("../config"),_config2=_interopRequireDefault(_config),_http=require("http"),_http2=_interopRequireDefault(_http),_fs=require("fs"),_fs2=_interopRequireDefault(_fs),_path=require("path"),_path2=_interopRequireDefault(_path),_express=require("express"),_express2=_interopRequireDefault(_express),_expressHandlebars=require("express-handlebars"),_expressHandlebars2=_interopRequireDefault(_expressHandlebars),_helpers=require("./lib/helpers"),_helpers2=_interopRequireDefault(_helpers),_require=require("pg"),Pool=_require.Pool,Client=_require.Client,dbConnectionStr="postgresql://"+_config2.default.db.user+":"+_config2.default.db.password+"@"+_config2.default.db.host+":5432/"+_config2.default.db.name,app=(0,_express2.default)(),port=5e3,index=require(_path2.default.join(__dirname,"routes/index")),budget=require(_path2.default.join(__dirname,"routes/budget")),hbsOpt=_expressHandlebars2.default.create({extname:"hbs",defaultLayout:"layout",layoutsDir:_path2.default.join(__dirname,"views/layouts"),partialsDir:_path2.default.join(__dirname,"views/partials"),helpers:_helpers2.default}),db=_config2.default.db,pool=new Pool({connectionString:dbConnectionStr}),client=new Client({connectionString:dbConnectionStr});client.connect(),pool.query("SELECT * FROM income WHERE id = $1",[1],function(e,t){if(e)throw e;console.log("user:",t.rows[0])}),app.engine("hbs",hbsOpt.engine),app.set("views",_path2.default.join(__dirname,"views")),app.set("view engine","hbs"),app.use(_express2.default.static(_path2.default.join(__dirname,"static"))),app.use("/",index),app.use("/budget",budget),app.listen(process.env.PORT||port,function(){return console.log("Example app listening on port 5000!")});